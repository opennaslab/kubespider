import{B as s}from"./chunk-B9e8ng1t.js";const f=(e,t,r,a,n)=>{const c=new Map;return n&&c.set("Authorization",`Bearer ${n}`),{url:`${e}/api/v1/download`,method:"POST",headers:c,body:{dataSource:t,path:r,cookies:a}}},g=e=>({url:`${e}/healthz`,method:"GET",headers:new Map}),y=(e,t)=>{const r=new Map;return t&&r.set("Authorization",`Bearer ${t}`),{url:`${e}/api/v1/refresh`,method:"GET",headers:r}};async function v(e){const t={method:e.method},r={};if(e.headers.size>0){for(const[a,n]of e.headers)r[a]=n;t.headers=r}return e.method==="POST"&&(t.body=JSON.stringify(e.body)),fetch(e.url,t).then(a=>a.text().then(n=>({status:a.status,body:n}))).catch(a=>({status:500,body:a}))}const h={server:"",path:"",token:"",auth:!1,captureCookies:!1};var o;(e=>{e.read=async()=>s.storage.local.get(h).then(t=>t),e.save=async t=>s.storage.local.set(t)})(o||(o={}));const m=o;var u;(e=>{async function t(){const[a]=await s.tabs.query({active:!0,currentWindow:!0});return(a==null?void 0:a.id)||-1}e.getCurrentTabId=t;function r(a){s.tabs.create({url:a})}e.create=r})(u||(u={}));var i;(e=>{async function t(r){s.action.setBadgeText({text:r})}e.setBadgeText=t})(i||(i={}));var d;(e=>{async function t(r){return(await s.cookies.getAll({url:r})).map(n=>`${n.name}=${n.value}`).join(";")}e.getAll=t})(d||(d={}));export{d as C,m as S,u as T,v as a,f as d,g as h,y as r};
